{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/React/alkemy-wallet/react-wallet/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Projects/React/alkemy-wallet/react-wallet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Projects/React/alkemy-wallet/react-wallet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var URI='http://localhost:8000/operations/';var ShowOperations=function ShowOperations(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),operations=_useState2[0],setOperation=_useState2[1];useEffect(function(){getLast10Operations();},[]);// Procedimiento para mostrar las ultimas 10 operaciones\nvar getLast10Operations=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(URI+'last');case 2:res=_context.sent;setOperation(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getLast10Operations(){return _ref.apply(this,arguments);};}();// Procedimiento para mostrar todas las operaciones\nvar getOperations=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(URI);case 2:res=_context2.sent;setOperation(res.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getOperations(){return _ref2.apply(this,arguments);};}();// Procedimiento para eliminar una operacion\nvar deleteOperation=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"\".concat(URI).concat(id));case 2:getLast10Operations();window.location.reload();case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteOperation(_x){return _ref3.apply(this,arguments);};}();// Procedimiento para ordenar por Categoria\nvar getLast10ByCategory=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var res;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(URI+'category');case 2:res=_context4.sent;setOperation(res.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function getLast10ByCategory(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light mb-3\",onClick:function onClick(){return getOperations();},children:\" Show all operations\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light mb-3\",onClick:function onClick(){return getLast10Operations();},children:\" Show last 10 operations\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary mb-3\",onClick:function onClick(){return getLast10ByCategory();},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-arrow-down-wide-short\"}),\" Order by category \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-dark table-striped table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-secondary\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Concept\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:operations.map(function(operation){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"text-capitalize\",children:[\" \",operation.concept,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" $\",operation.amount,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",operation.date]}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-capitalize\",children:[\" \",operation.category]}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-uppercase\",children:[\" \",operation.type]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/edit/\".concat(operation.id),className:\"btn btn-outline-light btn-sm mx-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-pen-to-square\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteOperation(operation.id);},className:\"btn btn-outline-danger btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash\"})})]})]},operation.id);})})]})})})]});};export default ShowOperations;","map":{"version":3,"names":["axios","useState","useEffect","Link","URI","ShowOperations","operations","setOperation","getLast10Operations","get","res","data","getOperations","deleteOperation","id","delete","window","location","reload","getLast10ByCategory","map","operation","concept","amount","date","category","type"],"sources":["D:/Projects/React/alkemy-wallet/react-wallet/src/components/ShowOperations.jsx"],"sourcesContent":["import axios from 'axios'\r\nimport { useState, useEffect } from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst URI = 'http://localhost:8000/operations/'\r\n\r\nconst ShowOperations = () => {\r\n    \r\n    const [operations, setOperation] = useState([])\r\n    useEffect(()=>{\r\n        getLast10Operations()\r\n    }, [])\r\n    \r\n    // Procedimiento para mostrar las ultimas 10 operaciones\r\n    const getLast10Operations = async () => {\r\n        const res = await axios.get(URI+'last')\r\n        setOperation(res.data)\r\n    }\r\n    // Procedimiento para mostrar todas las operaciones\r\n    const getOperations = async () => {\r\n        const res = await axios.get(URI)\r\n        setOperation(res.data)\r\n    }    \r\n    // Procedimiento para eliminar una operacion\r\n    const deleteOperation = async (id) => {\r\n        await axios.delete(`${URI}${id}`)\r\n        getLast10Operations()\r\n        window.location.reload()\r\n    }\r\n    // Procedimiento para ordenar por Categoria\r\n    const getLast10ByCategory = async () => {\r\n        const res = await axios.get(URI+'category')\r\n        setOperation(res.data)\r\n    }\r\n    return(\r\n        \r\n        <div>\r\n            <div className='btn-group'>\r\n                <button className='btn btn-light mb-3' onClick={()=>getOperations()}> Show all operations</button>            \r\n                <button className='btn btn-light mb-3' onClick={()=>getLast10Operations()}> Show last 10 operations</button>\r\n                <button className='btn btn-secondary mb-3' onClick={()=>getLast10ByCategory()}><i class=\"fa-solid fa-arrow-down-wide-short\"></i> Order by category </button>\r\n            </div>\r\n            <div className='row'>\r\n                <div className='col'>\r\n                    \r\n                    <table className='table table-dark table-striped table-hover'>\r\n                        \r\n                        <thead className='table-secondary'>\r\n                            <tr>\r\n                                <th>Concept</th>\r\n                                <th>Amount</th>\r\n                                <th>Date</th>\r\n                                <th>Category</th>\r\n                                <th>Type</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            { operations.map((operation) => (\r\n                                <tr key={operation.id}>\r\n                                    <td className='text-capitalize'> {operation.concept} </td>\r\n                                    <td> ${operation.amount} </td>\r\n                                    <td> {operation.date}</td>\r\n                                    <td className='text-capitalize'> {operation.category}</td>\r\n                                    <td className='text-uppercase'> {operation.type}</td>\r\n                                    <td>\r\n                                        <Link to={`/edit/${operation.id}`} className=\"btn btn-outline-light btn-sm mx-1\"><i className=\"fa-solid fa-pen-to-square\"></i></Link> \r\n                                        <button onClick={()=>deleteOperation(operation.id)} className='btn btn-outline-danger btn-sm'><i className=\"fa-solid fa-trash\"></i></button>\r\n                                    </td>\r\n                                </tr>\r\n                            )) }\r\n                        </tbody>\r\n                    </table>\r\n                    \r\n                    \r\n                    \r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowOperations"],"mappings":"sZAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,C,wFAEA,GAAMC,IAAG,CAAG,mCAAZ,CAEA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAEzB,cAAmCJ,QAAQ,CAAC,EAAD,CAA3C,wCAAOK,UAAP,eAAmBC,YAAnB,eACAL,SAAS,CAAC,UAAI,CACVM,mBAAmB,GACtB,CAFQ,CAEN,EAFM,CAAT,CAIA;AACA,GAAMA,oBAAmB,4FAAG,mKACNR,MAAK,CAACS,GAAN,CAAUL,GAAG,CAAC,MAAd,CADM,QAClBM,GADkB,eAExBH,YAAY,CAACG,GAAG,CAACC,IAAL,CAAZ,CAFwB,sDAAH,kBAAnBH,oBAAmB,0CAAzB,CAIA;AACA,GAAMI,cAAa,6FAAG,yKACAZ,MAAK,CAACS,GAAN,CAAUL,GAAV,CADA,QACZM,GADY,gBAElBH,YAAY,CAACG,GAAG,CAACC,IAAL,CAAZ,CAFkB,wDAAH,kBAAbC,cAAa,2CAAnB,CAIA;AACA,GAAMC,gBAAe,6FAAG,kBAAOC,EAAP,+IACdd,MAAK,CAACe,MAAN,WAAgBX,GAAhB,SAAsBU,EAAtB,EADc,QAEpBN,mBAAmB,GACnBQ,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAHoB,wDAAH,kBAAfL,gBAAe,6CAArB,CAKA;AACA,GAAMM,oBAAmB,6FAAG,yKACNnB,MAAK,CAACS,GAAN,CAAUL,GAAG,CAAC,UAAd,CADM,QAClBM,GADkB,gBAExBH,YAAY,CAACG,GAAG,CAACC,IAAL,CAAZ,CAFwB,wDAAH,kBAAnBQ,oBAAmB,2CAAzB,CAIA,mBAEI,oCACI,aAAK,SAAS,CAAC,WAAf,wBACI,eAAQ,SAAS,CAAC,oBAAlB,CAAuC,OAAO,CAAE,yBAAIP,cAAa,EAAjB,EAAhD,kCADJ,cAEI,eAAQ,SAAS,CAAC,oBAAlB,CAAuC,OAAO,CAAE,yBAAIJ,oBAAmB,EAAvB,EAAhD,sCAFJ,cAGI,gBAAQ,SAAS,CAAC,wBAAlB,CAA2C,OAAO,CAAE,yBAAIW,oBAAmB,EAAvB,EAApD,wBAA+E,UAAG,KAAK,CAAC,mCAAT,EAA/E,yBAHJ,GADJ,cAMI,YAAK,SAAS,CAAC,KAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBAEI,eAAO,SAAS,CAAC,4CAAjB,wBAEI,cAAO,SAAS,CAAC,iBAAjB,uBACI,mCACI,+BADJ,cAEI,8BAFJ,cAGI,4BAHJ,cAII,gCAJJ,cAKI,4BALJ,cAMI,8BANJ,GADJ,EAFJ,cAYI,uBACMb,UAAU,CAACc,GAAX,CAAe,SAACC,SAAD,qBACb,mCACI,YAAI,SAAS,CAAC,iBAAd,eAAkCA,SAAS,CAACC,OAA5C,OADJ,cAEI,2BAAOD,SAAS,CAACE,MAAjB,OAFJ,cAGI,0BAAMF,SAAS,CAACG,IAAhB,GAHJ,cAII,YAAI,SAAS,CAAC,iBAAd,eAAkCH,SAAS,CAACI,QAA5C,GAJJ,cAKI,YAAI,SAAS,CAAC,gBAAd,eAAiCJ,SAAS,CAACK,IAA3C,GALJ,cAMI,mCACI,KAAC,IAAD,EAAM,EAAE,iBAAWL,SAAS,CAACP,EAArB,CAAR,CAAmC,SAAS,CAAC,mCAA7C,uBAAiF,UAAG,SAAS,CAAC,2BAAb,EAAjF,EADJ,cAEI,eAAQ,OAAO,CAAE,yBAAID,gBAAe,CAACQ,SAAS,CAACP,EAAX,CAAnB,EAAjB,CAAoD,SAAS,CAAC,+BAA9D,uBAA8F,UAAG,SAAS,CAAC,mBAAb,EAA9F,EAFJ,GANJ,GAASO,SAAS,CAACP,EAAnB,CADa,EAAf,CADN,EAZJ,GAFJ,EADJ,EANJ,GAFJ,CAiDH,CA7ED,CA+EA,cAAeT,eAAf"},"metadata":{},"sourceType":"module"}