{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/React/alkemy-wallet/react-wallet/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"D:/Projects/React/alkemy-wallet/react-wallet/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/Projects/React/alkemy-wallet/react-wallet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Projects/React/alkemy-wallet/react-wallet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{db}from\"../firebase\";import Swal from\"sweetalert2\";import Spinner from\"react-bootstrap/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Balance=function Balance(){var bal=0;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),operations=_useState2[0],setOperation=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loader=_useState4[0],setLoader=_useState4[1];useEffect(function(){getOperations();},[]);// Procedimiento para traer todas las operaciones\nvar getOperations=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var docs,querySnapshot;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;docs=[];_context.next=4;return db.collection(\"operations\").get();case 4:querySnapshot=_context.sent;querySnapshot.forEach(function(doc){docs.push(_objectSpread(_objectSpread({},doc.data()),{},{id:doc.id}));});setOperation(docs);setLoader(false);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);Swal.fire({icon:\"error\",title:\"Oops...\",text:\"Something went wrong, try again later...\"});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getOperations(){return _ref.apply(this,arguments);};}();operations.map(function(operation){if(operation.type===\"expense\"){bal-=parseInt(operation.amount);}else{bal+=parseInt(operation.amount);}});return/*#__PURE__*/_jsx(\"div\",{children:loader?/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"grow\",variant:\"light\"})}):/*#__PURE__*/_jsxs(\"h1\",{children:[\"$\",bal,\" \"]})});};export default Balance;","map":{"version":3,"names":["useState","useEffect","db","Swal","Spinner","Balance","bal","operations","setOperation","loader","setLoader","getOperations","docs","collection","get","querySnapshot","forEach","doc","push","data","id","console","log","fire","icon","title","text","map","operation","type","parseInt","amount"],"sources":["D:/Projects/React/alkemy-wallet/react-wallet/src/components/Balance.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { db } from \"../firebase\";\r\nimport Swal from \"sweetalert2\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nconst Balance = () => {\r\n  var bal = 0;\r\n\r\n  const [operations, setOperation] = useState([]);\r\n  const [loader, setLoader] = useState(true);\r\n  useEffect(() => {\r\n    getOperations();\r\n  }, []);\r\n\r\n  // Procedimiento para traer todas las operaciones\r\n  const getOperations = async () => {\r\n    try {\r\n      const docs = [];\r\n      const querySnapshot = await db.collection(\"operations\").get();\r\n      querySnapshot.forEach((doc) => {\r\n        docs.push({ ...doc.data(), id: doc.id });\r\n      });\r\n      setOperation(docs);\r\n      setLoader(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"Something went wrong, try again later...\",\r\n      });\r\n    }\r\n  };\r\n\r\n  operations.map((operation) => {\r\n    if (operation.type === \"expense\") {\r\n      bal -= parseInt(operation.amount);\r\n    } else {\r\n      bal += parseInt(operation.amount);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      {loader ? (\r\n        <div className=\"mx-auto\">\r\n          <Spinner animation=\"grow\" variant=\"light\" />\r\n        </div>\r\n      ) : (\r\n        <h1>${bal} </h1>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Balance;\r\n"],"mappings":"uhBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,EAAT,KAAmB,aAAnB,CACA,MAAOC,KAAP,KAAiB,aAAjB,CACA,MAAOC,QAAP,KAAoB,yBAApB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,GAAIC,IAAG,CAAG,CAAV,CAEA,cAAmCN,QAAQ,CAAC,EAAD,CAA3C,wCAAOO,UAAP,eAAmBC,YAAnB,eACA,eAA4BR,QAAQ,CAAC,IAAD,CAApC,yCAAOS,MAAP,eAAeC,SAAf,eACAT,SAAS,CAAC,UAAM,CACdU,aAAa,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA;AACA,GAAMA,cAAa,4FAAG,4KAEZC,IAFY,CAEL,EAFK,uBAGUV,GAAE,CAACW,UAAH,CAAc,YAAd,EAA4BC,GAA5B,EAHV,QAGZC,aAHY,eAIlBA,aAAa,CAACC,OAAd,CAAsB,SAACC,GAAD,CAAS,CAC7BL,IAAI,CAACM,IAAL,gCAAeD,GAAG,CAACE,IAAJ,EAAf,MAA2BC,EAAE,CAAEH,GAAG,CAACG,EAAnC,IACD,CAFD,EAGAZ,YAAY,CAACI,IAAD,CAAZ,CACAF,SAAS,CAAC,KAAD,CAAT,CARkB,iFAUlBW,OAAO,CAACC,GAAR,cACAnB,IAAI,CAACoB,IAAL,CAAU,CACRC,IAAI,CAAE,OADE,CAERC,KAAK,CAAE,SAFC,CAGRC,IAAI,CAAE,0CAHE,CAAV,EAXkB,qEAAH,kBAAbf,cAAa,0CAAnB,CAmBAJ,UAAU,CAACoB,GAAX,CAAe,SAACC,SAAD,CAAe,CAC5B,GAAIA,SAAS,CAACC,IAAV,GAAmB,SAAvB,CAAkC,CAChCvB,GAAG,EAAIwB,QAAQ,CAACF,SAAS,CAACG,MAAX,CAAf,CACD,CAFD,IAEO,CACLzB,GAAG,EAAIwB,QAAQ,CAACF,SAAS,CAACG,MAAX,CAAf,CACD,CACF,CAND,EAQA,mBACE,qBACGtB,MAAM,cACL,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,OAAD,EAAS,SAAS,CAAC,MAAnB,CAA0B,OAAO,CAAC,OAAlC,EADF,EADK,cAKL,0BAAMH,GAAN,OANJ,EADF,CAWD,CAhDD,CAkDA,cAAeD,QAAf"},"metadata":{},"sourceType":"module"}