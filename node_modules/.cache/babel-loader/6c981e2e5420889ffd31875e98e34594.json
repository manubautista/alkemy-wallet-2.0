{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/React/alkemy-wallet/react-wallet/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Projects/React/alkemy-wallet/react-wallet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Projects/React/alkemy-wallet/react-wallet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{db}from\"../firebase\";import Swal from\"sweetalert2\";import Balance from\"./Balance\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditOperation=function EditOperation(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),concept=_useState2[0],setConcept=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),type=_useState8[0],setType=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),category=_useState10[0],setCategory=_useState10[1];var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;useEffect(function(){getOperationById();},[]);// Procedimiento para actualizar\nvar update=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();_context.next=4;return db.collection(\"operations\").doc(id).update({concept:concept,amount:amount,date:date,type:type,category:category});case 4:navigate(\"/\");Swal.fire({position:\"top-end\",icon:\"success\",title:\"Changes has been saved!\",showConfirmButton:false,timer:1500});_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);Swal.fire({icon:\"error\",title:\"Oops...\",text:\"Something went wrong, try again later...\"});case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function update(_x){return _ref.apply(this,arguments);};}();var getOperationById=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var querySnapshot;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return db.collection(\"operations\").doc(id).get();case 3:querySnapshot=_context2.sent;setConcept(querySnapshot.data().concept);setAmount(querySnapshot.data().amount);setDate(querySnapshot.data().date);setType(querySnapshot.data().type);setCategory(querySnapshot.data().category);_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);Swal.fire({icon:\"error\",title:\"Oops...\",text:\"Something went wrong, try again later...\"});case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function getOperationById(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"App-header\",children:/*#__PURE__*/_jsx(Balance,{})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:update,className:\"card mx-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-header\",children:\"Edit Operation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Concept\",/*#__PURE__*/_jsx(\"i\",{className:\"fa-thin fa-asterisk\"})]}),/*#__PURE__*/_jsx(\"input\",{value:concept,onChange:function onChange(e){return setConcept(e.target.value);},type:\"text\",className:\"form-control\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Amount\",/*#__PURE__*/_jsx(\"i\",{className:\"fa-thin fa-asterisk\"})]}),/*#__PURE__*/_jsx(\"input\",{value:amount,onChange:function onChange(e){return setAmount(e.target.value);},type:\"number\",className:\"form-control\",min:1,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 card-body\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Date\",/*#__PURE__*/_jsx(\"i\",{className:\"fa-thin fa-asterisk\"})]}),/*#__PURE__*/_jsx(\"input\",{value:date,onChange:function onChange(e){return setDate(e.target.value);},type:\"date\",className:\"form-control\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Category\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa-thin fa-asterisk\"}),/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:function onChange(e){return setCategory(e.target.value);},className:\"form-control\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"}),/*#__PURE__*/_jsx(\"option\",{value:\"job\",children:\"Job\"}),/*#__PURE__*/_jsx(\"option\",{value:\"food\",children:\"Food\"}),/*#__PURE__*/_jsx(\"option\",{value:\"entertainment\",children:\"Entertainment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"health\",children:\"Health\"}),/*#__PURE__*/_jsx(\"option\",{value:\"gasoline\",children:\"Gasoline\"}),/*#__PURE__*/_jsx(\"option\",{value:\"gift\",children:\"Gift\"}),/*#__PURE__*/_jsx(\"option\",{value:\"house\",children:\"House\"}),/*#__PURE__*/_jsx(\"option\",{value:\"family\",children:\"Family\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-secondary\",children:\"Edit\"})]})]});};export default EditOperation;","map":{"version":3,"names":["useState","useEffect","useNavigate","useParams","db","Swal","Balance","EditOperation","concept","setConcept","amount","setAmount","date","setDate","type","setType","category","setCategory","navigate","id","getOperationById","update","e","preventDefault","collection","doc","fire","position","icon","title","showConfirmButton","timer","console","log","text","get","querySnapshot","data","target","value"],"sources":["D:/Projects/React/alkemy-wallet/react-wallet/src/components/EditOperation.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { db } from \"../firebase\";\r\nimport Swal from \"sweetalert2\";\r\nimport Balance from \"./Balance\";\r\n\r\nconst EditOperation = () => {\r\n  const [concept, setConcept] = useState(\"\");\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    getOperationById();\r\n  }, []);\r\n\r\n  // Procedimiento para actualizar\r\n  const update = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      await db.collection(\"operations\").doc(id).update({\r\n        concept: concept,\r\n        amount: amount,\r\n        date: date,\r\n        type: type,\r\n        category: category,\r\n      });\r\n      navigate(\"/\");\r\n      Swal.fire({\r\n        position: \"top-end\",\r\n        icon: \"success\",\r\n        title: \"Changes has been saved!\",\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"Something went wrong, try again later...\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const getOperationById = async () => {\r\n    try {\r\n      const querySnapshot = await db.collection(\"operations\").doc(id).get();\r\n      setConcept(querySnapshot.data().concept);\r\n      setAmount(querySnapshot.data().amount);\r\n      setDate(querySnapshot.data().date);\r\n      setType(querySnapshot.data().type);\r\n      setCategory(querySnapshot.data().category);\r\n    } catch (error) {\r\n      console.log(error);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"Something went wrong, try again later...\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"App-header\">\r\n        <Balance />\r\n      </div>\r\n      <form onSubmit={update} className=\"card mx-5\">\r\n        <h3 className=\"card-header\">Edit Operation</h3>\r\n        <div className=\"card-body\">\r\n          <label className=\"form-label\">\r\n            Concept<i className=\"fa-thin fa-asterisk\"></i>\r\n          </label>\r\n          <input\r\n            value={concept}\r\n            onChange={(e) => setConcept(e.target.value)}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <label className=\"form-label\">\r\n            Amount<i className=\"fa-thin fa-asterisk\"></i>\r\n          </label>\r\n          <input\r\n            value={amount}\r\n            onChange={(e) => setAmount(e.target.value)}\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            min={1}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-3 card-body\">\r\n          <label className=\"form-label\">\r\n            Date<i className=\"fa-thin fa-asterisk\"></i>\r\n          </label>\r\n          <input\r\n            value={date}\r\n            onChange={(e) => setDate(e.target.value)}\r\n            type=\"date\"\r\n            className=\"form-control\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <label className=\"form-label\">Category</label>\r\n          <i className=\"fa-thin fa-asterisk\"></i>\r\n          <select\r\n            value={category}\r\n            onChange={(e) => setCategory(e.target.value)}\r\n            className=\"form-control\"\r\n            required\r\n          >\r\n            <option value=\"other\">Other</option>\r\n            <option value=\"job\">Job</option>\r\n            <option value=\"food\">Food</option>\r\n            <option value=\"entertainment\">Entertainment</option>\r\n            <option value=\"health\">Health</option>\r\n            <option value=\"gasoline\">Gasoline</option>\r\n            <option value=\"gift\">Gift</option>\r\n            <option value=\"house\">House</option>\r\n            <option value=\"family\">Family</option>\r\n          </select>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-secondary\">\r\n          Edit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditOperation;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}